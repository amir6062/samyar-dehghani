<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<title>Ú†Ø§Ù„Ø´ Ø¨Ø²Ø±Ú¯ Ù‡Ø´ØªÙ…</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  font-family:tahoma;
  background:linear-gradient(135deg,#141e30,#243b55);
  direction:rtl;
  text-align:center;
  color:white;
}
.box{
  background:white;
  color:black;
  width:94%;
  max-width:560px;
  margin:20px auto;
  padding:20px;
  border-radius:18px;
}
button{
  padding:12px 18px;
  margin:6px;
  font-size:15px;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
.hide{display:none}
.progress{width:100%;background:#ddd;border-radius:10px;overflow:hidden}
.bar{height:10px;background:#03a9f4;width:0%}
table{
  width:100%;
  border-collapse:collapse;
}
td,th{
  border:1px solid #ccc;
  padding:6px;
}
</style>
</head>

<body>

<h1>ğŸ† Ú†Ø§Ù„Ø´ Ø¨Ø²Ø±Ú¯ Ú©Ù„Ø§Ø³ Ù‡Ø´ØªÙ…</h1>
<h3>ğŸ‘‘ Ø³Ø§Ø²Ù†Ø¯Ù‡: Ø³Ø§Ù…ÛŒØ§Ø±</h3>

<div class="box" id="startBox">
<input id="player" placeholder="Ù†Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†">
<br><br>
<button onclick="startGame()">ğŸš€ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
<h3>ğŸ† Ø¬Ø¯ÙˆÙ„ Ø±Ù‚Ø§Ø¨Øª</h3>
<table id="board"></table>
</div>

<div class="box hide" id="gameBox">
<p>ğŸ‘¤ <span id="playerName"></span></p>
<p>â­ Ø§Ù…ØªÛŒØ§Ø²: <span id="score">0</span></p>
<p>â± Ø²Ù…Ø§Ù†: <span id="time">12</span> Ø«Ø§Ù†ÛŒÙ‡</p>
<div class="progress"><div class="bar" id="bar"></div></div>
<h2 id="qText"></h2>
<div id="answers"></div>
</div>

<div class="box hide" id="endBox">
<h2>ğŸ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ</h2>
<p>Ø§Ù…ØªÛŒØ§Ø² Ù†Ù‡Ø§ÛŒÛŒ: <span id="finalScore"></span></p>
<button onclick="saveScore()">ğŸ’¾ Ø«Ø¨Øª Ø¯Ø± Ø¬Ø¯ÙˆÙ„</button>
<button onclick="location.reload()">ğŸ”„ Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>
</div>

<script>
let score=0,time=12,timer;
let used=[],currentQ,count=0;
let leaderboard=JSON.parse(localStorage.getItem("board"))||[];

const questions=[
/* Ù‡ÙˆØ´ */
{q:"Ø§Ù„Ú¯Ùˆ: 3 , 6 , 12 , ØŸ",a:["18","24","30"],c:1},
{q:"Ú©Ø¯Ø§Ù… Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŸ",a:["Ø¯Ø§ÛŒØ±Ù‡","Ù…Ø±Ø¨Ø¹","Ù…Ø«Ù„Ø«"],c:0},

/* Ø±ÛŒØ§Ø¶ÛŒ */
{q:"Ø­Ø§ØµÙ„ 4Â² + 2ØŸ",a:["18","20","22"],c:0},
{q:"Ø§Ú¯Ø± x=5 â†’ 3x-4ØŸ",a:["11","15","19"],c:0},

/* ÙÛŒØ²ÛŒÚ© */
{q:"ÙˆØ§Ø­Ø¯ Ù†ÛŒØ±Ùˆ Ú†ÛŒØ³ØªØŸ",a:["Ú˜ÙˆÙ„","Ù†ÛŒÙˆØªÙ†","ÙˆØ§Øª"],c:1},
{q:"Ø³Ø±Ø¹Øª Ù†ÙˆØ± ØªÙ‚Ø±ÛŒØ¨Ø§Ù‹ØŸ",a:["300km/s","300,000km/s","150,000km/s"],c:1},

/* Ø¬ØºØ±Ø§ÙÛŒØ§ */
{q:"Ø·ÙˆÙ„Ø§Ù†ÛŒâ€ŒØªØ±ÛŒÙ† Ø±ÙˆØ¯ Ø¬Ù‡Ø§Ù†ØŸ",a:["Ø¢Ù…Ø§Ø²ÙˆÙ†","Ù†ÛŒÙ„","Ú©Ø§Ø±ÙˆÙ†"],c:1},
{q:"Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ú©Ø¯Ø§Ù… Ù‚Ø§Ø±Ù‡ Ø§Ø³ØªØŸ",a:["Ø¢Ø³ÛŒØ§","Ø§Ø±ÙˆÙ¾Ø§","Ø¢ÙØ±ÛŒÙ‚Ø§"],c:0},

/* Ø²Ø¨Ø§Ù† Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ */
{q:"Ù…Ø¹Ù†ÛŒ (Beautiful)ØŸ",a:["Ø²ÛŒØ¨Ø§","Ø¨Ø²Ø±Ú¯","Ø³Ø±ÛŒØ¹"],c:0},
{q:"Past of go?",a:["goed","went","gone"],c:1}
];

function startGame(){
let name=player.value;
if(!name) return alert("Ù†Ø§Ù… Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†");
playerName.innerText=name;
startBox.classList.add("hide");
gameBox.classList.remove("hide");
nextQ();
timer=setInterval(tick,1000);
}

function tick(){
time--;
timeSpan=time;
document.getElementById("time").innerText=time;
if(time<=0) nextQ();
}

function nextQ(){
if(used.length===questions.length) return endGame();
count++;
bar.style.width=(count/questions.length*100)+"%";
time=12;
let r;
do{r=Math.floor(Math.random()*questions.length);}while(used.includes(r));
used.push(r);
currentQ=questions[r];
qText.innerText=currentQ.q;
answers.innerHTML="";
currentQ.a.forEach((x,i)=>{
answers.innerHTML+=`<button onclick="check(${i})">${x}</button>`;
});
}

function check(i){
if(i===currentQ.c) score+=time;
document.getElementById("score").innerText=score;
nextQ();
}

function endGame(){
clearInterval(timer);
gameBox.classList.add("hide");
endBox.classList.remove("hide");
finalScore.innerText=score;
}

function saveScore(){
leaderboard.push({name:player.value,score});
leaderboard.sort((a,b)=>b.score-a.score);
leaderboard=leaderboard.slice(0,5);
localStorage.setItem("board",JSON.stringify(leaderboard));
showBoard();
alert("Ø«Ø¨Øª Ø´Ø¯ âœ”ï¸");
}

function showBoard(){
let html="<tr><th>Ù†Ø§Ù…</th><th>Ø§Ù…ØªÛŒØ§Ø²</th></tr>";
leaderboard.forEach(x=>{
html+=`<tr><td>${x.name}</td><td>${x.score}</td></tr>`;
});
board.innerHTML=html;
}
showBoard();
</script>

</body>
</html>
